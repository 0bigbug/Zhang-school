<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/manage.css">
    <script src="js/manage.js"></script>
    <link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<!-- Custom Theme files -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<!-- Custom Theme files -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!--webfont-->
<link href='#css?family=Lato:100,200,300,400,500,600,700,800,900' rel='stylesheet' type='text/css'>
<!----font-Awesome----->
<link rel="stylesheet" href="fonts/css/font-awesome.min.css">
<!----font-Awesome----->
<!------ light-box-script ----->
<script src="js/jquery.chocolat.js"></script>
<link rel="stylesheet" href="css/chocolat.css" type="text/css" media="screen" charset="utf-8" />
<script type="text/javascript" charset="utf-8">
	$(function() {
		$('.about-grid a').Chocolat({linkImages:false});
	});
</script>
<!------ light-box-script ----->
    <title>后台</title>
    <style>
        body {
            text-align: center;
        }
        
        #keyword {
            margin-bottom: 5px;
            margin-top: 5px;
        }
        
        input {
            width: 80px;
        }
        
        table {
            width: 600px;
            margin: 0px auto;
            text-align: center;
            border-collapse: collapse;
            font-size: 18px;
        }
        
        thead tr {
            height: 30px;
            background-color: skyblue;
        }
        
        tbody tr {
            height: 30px;
        }
        
        tbody td {
            border-bottom: 1px solid #d7d7d7;
            border-left: 1px solid #d7d7d7;
            border-right: 1px solid #d7d7d7;
            font-size: 12px;
            color: blue;
        }
        
        .bg {
            background-color: pink;
        }
    </style>
</head>
<script>
    //实现功能,搜索显示,大小写搜索不会影响,模糊搜索 
    window.onload = function() {
        var otab = document.getElementById('theader');
        var obtn = document.getElementById('search');
        var otext = document.getElementById('keyword');
        obtn.onclick = function() {
            for (var i = 0; i < otab.tBodies[0].rows.length; i++) {
                var stab = otab.tBodies[0].rows[i].cells[1].innerHTML.toLowerCase(); //cells[2]表示搜索表格第二列
                var stext = otext.value.toLowerCase();
                // toLowerCase()将英文全部转换成小写,为了用户在输入小写的时候仍然可以将内容搜索出来
                var arr = stext.split(' ');
                //split的作用将某一段字符串按照指定字符进行切割
                otab.tBodies[0].rows[i].style.background = ""; //确保在下一次搜索时上一次搜索不会影响这次搜索的结果
                for (var j = 0; j < arr.length; j++) {
                    var type = 0;
                    if (stab.search(arr[j]) != -1) {
                        otab.tBodies[0].rows[i].style.background = 'cornflowerblue';
                        type = 1;
                    }
                    if (type != 1) {
                        otab.tBodies[0].rows[i].style.display = "none";
                    }


                }
            }
        }

    }

    //补充实现删除表格行
    function del(obj) {
        var node = obj.parentNode.parentNode.parentNode;
        var node1 = obj.parentNode.parentNode;
        node.removeChild(node1);
    }

    function deltr(obj) {
        var table = obj.parentNode.parentNode.parentNode;
        var tr = obj.parentNode.parentNode;
        table.removeChild(tr);
    }
    //补充实现表格添加内容
    function add_btn(obj) {
        var text1 = document.querySelector('#text1');
        var text2 = document.querySelector('#text2');
        var text3 = document.querySelector('#text3');
        var text4 = document.querySelector('#text4');
        var text5 = document.querySelector('#text5');
        if (text1.value == '' || text2.value == '' || text3.value == '' || text4.value == '' || text5.value == '') {
            alert('请将数据填入完全！');
            return false;
        } else {
            var text1 = document.getElementById("text1").value;
            var text2 = document.getElementById("text2").value;
            var text3 = document.getElementById("text3").value;
            var text4 = document.getElementById("text4").value;
            var text5 = document.getElementById("text5").value;
            var tb = document.querySelector('tbody');
            var text6 = '<a href="#" onclick = "del(this)">删除</a>&nbsp;&nbsp;<a href ="#" onclick= "add_btn(this)">添加</a>';
            //方法一
            var obj = document.getElementById("theader").insertRow();
            obj.insertCell(0).innerHTML = text1;
            obj.insertCell(1).innerHTML = text2;
            obj.insertCell(2).innerHTML = text3;
            obj.insertCell(3).innerHTML = text4;
            obj.insertCell(4).innerHTML = text5;
            obj.insertCell(5).innerHTML = text6;

        }
    }

            
    //编辑
    function update(obj, x) {
        var table = document.getElementById("theader");
        for (var i = 0; i < table.rows[x].cells.length - 1; i++) {
            var text = table.rows[x].cells[i].innerHTML;
            table.rows[x].cells[i].innerHTML = '<input class="input" name ="input' + x + '"type = "text" value =""/>';
            var input = document.getElementsByName("input" + x);
            input[i].value = text;
            input[0].focus();
            input[0].select();
        }
        obj.innerHTML = "确定";
        obj.onclick = function onclick(event) {
            update_success(this, x)
        };
    }

    function update_success(obj, x) {
        var arr = [];
        var table = document.getElementById("theader");
        var input = document.getElementsByName("input" + x);
        for (var i = 0; i < table.rows[x].cells.length - 1; i++) {
            var text = input[i].value;
            arr.push(text);
        } //把值赋值给表格，不能在取值的时候给，会打乱input的个数
        for (var j = 0; j < arr.length; j++) {
            table.rows[x].cells[j].innerHTML = arr[j];
        } //回到原来状态
        obj.innerHTML = "编辑";
        obj.onclick = function onclick(event) {
            update(this, x)
        };
        alert(arr + ",传到后端操作成功，刷新页面");
    }
</script>

<body>
    <div class="header_about"> </div>
    <div class="header-home">
     <div class="fixed-header">
         <div class="logo">
             <a href="index.html">
               <span class="secondary">网络工程2001</span>
               <span class="main">张嘉鹏</span>
             </a>
         </div>
                 <div class="top-nav">
                     <span class="menu"> </span>
                     <ul>
                         <li><a href="index.html">首页</a></li>
                           <li><a href="about.html">关于学校</a></li>
                           <li><a href="services.html">师资力量</a></li>
                           <li><a href="blog.html">为了读书</a></li>
                           <li class="active"><a href="contact.html">留言板</a></li>
                           <li><a href="login.html">登录</a></li>	
                           <li><a href="register.html">注册</a></li>		
                     </ul>
				<!-- script-nav -->
			<script>
			$("span.menu").click(function(){
				$(".top-nav ul").slideToggle(500, function(){
				});
			});
			</script>
			<!-- //script-nav -->
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
        <!--script-->
		<script>
			$(document).ready(function(){
				$(".top-nav li a").click(function(){
					$(this).parent().addClass("active");
					$(this).parent().siblings().removeClass("active");
				});
			});
		</script>
			<!-- script-for sticky-nav -->
		<script>
		$(document).ready(function() {
			 var navoffeset=$(".header-home").offset().top;
			 $(window).scroll(function(){
				var scrollpos=$(window).scrollTop(); 
				if(scrollpos >=navoffeset){
					$(".header-home").addClass("fixed");
				}else{
					$(".header-home").removeClass("fixed");
				}
			 });
			 
		});
		</script>
		<!-- /script-for sticky-nav -->
	<!--//header-->
    <div class="container">
        <!-- 左边列表 -->
        <div class="left">
            <p></p>
            <a>后台管理</a>
        </div>
        <!-- 右边主题 -->
        <div class="right">
            <!-- 头部 -->
            <div class="head">
                <p>后台管理系统</p>
                <!-- <div class="icon"><a href="index.html">后台管理</a></div> -->
            </div>

            <!-- 主要部分 -->
            <div class="main">
                <!-- 内容表格 -->
                姓名：<input id="keyword" type="text" />
                <input id="search" type="button" value="搜索" />

                <table id="theader" width="500" align="center">
                    <thead style="background-color: royalblue;color: #ffffff;">
                        <td>列表</td>
                        <td>用户名</td>
                        <td>账号</td>
                        <td>年龄</td>
                        <td>视频</td>
                        <td>操作</td>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>大佬IND</td>
                            <td>1000001</td>
                            <td>21</td>
                            <td onclick="window.open('http://www.douyin.com');">抖音视频</td>
                            <td><a href="javascript:;" onclick="del(this)">删除</a>&nbsp;&nbsp;<a href="javascript:;" onclick="add_btn(this)">添加</a>&nbsp;&nbsp;
                                <a href="javascript:;" onclick="update(this,1)">编辑</a>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>钟辉</td>
                            <td>1000002</td>
                            <td>20</td>
                            <td onclick="window.open('https://www.huya.com/');">虎牙直播</td>
                            <td><a href="javascript:;" onclick="del(this)">删除</a>&nbsp;&nbsp;<a href="javascript:;" onclick="add_btn(this)">添加</a>&nbsp;&nbsp;
                                <a href="javascript:;" onclick="update(this,2)">编辑</a>
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>申振</td>
                            <td>1000003</td>
                            <td>23</td>
                            <td onclick="window.open('https://www.bilibili.com/video/BV1Be411A7hm/?spm_id_from=333.1007.tianma.1-2-2.click');">娱乐视频</td>
                            <td><a href="javascript:;" onclick="del(this)">删除</a>&nbsp;&nbsp;<a href="javascript:;" onclick="add_btn(this)">添加</a>&nbsp;&nbsp;
                                <a href="javascript:;" onclick="update(this,3)">编辑</a>
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>蔡徐坤</td>
                            <td>1000004</td>
                            <td>21</td>
                            <td onclick="window.open('https://www.bilibili.com/video/BV1DY4y1V7YK/?spm_id_from=333.788.recommend_more_video.1');">IKUN舞蹈</td>
                            <td><a href="javascript:;" onclick="del(this)">删除</a>&nbsp;&nbsp;<a href="javascript:;" onclick="add_btn(this)">添加</a>&nbsp;&nbsp;
                                <a href="javascript:;"  onclick="update(this,4)">编辑</a>
                            </td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>于加良</td>
                            <td>1000005</td>
                            <td>20</td>
                            <td onclick="window.open('https://www.bilibili.com/video/BV1hD4y1X7Rm/?spm_id_from=333.999.0.0');">岩王帝君</td>
                            <td><a href="javascript:;" onclick="deltr(this)">删除</a>&nbsp;&nbsp;<a href="javascript:;" onclick="add_btn(this)">添加</a>&nbsp;&nbsp;
                                <a href="javascript:;"  onclick="update(this,5)">编辑</a>
                            </td>
                        </tr>

                    </tbody>

                </table>
                <p>
                    <input type="text" id="text1" placeholder="请输入序号：">
                    <input type="text" id="text2" placeholder="请输入用户名：">
                    <input type="text" id="text3" placeholder="请输入账号：">
                    <input type="text" id="text4" placeholder="请输入年龄：">
                    <input type="text" id="text5" placeholder="请输入作品名：">
                </p>
                <button id="btn_add" onclick="add_btn(this)">添加</button>
                <script>
                    //实现鼠标经过表格行变颜色
                    // 1. 获取元素
                    var trs = document.querySelector('tbody').querySelectorAll('tr');
                    // 2. 利用循环绑定注册事件
                    for (var i = 0; i < trs.length; i++) {
                        // 3. 鼠标经过事件 onmouseover
                        trs[i].onmouseover = function() {
                            this.className = 'bg';
                        };
                        // 4. 鼠标离开事件 onmouseout
                        trs[i].onmouseout = function() {
                            this.className = '';
                        };
                    }
                </script>

            </div>
        </div>
    </div>
    </div>
    <div class="copy">
	    <p>Copyright &copy; 张嘉鹏 网络工程2001 20300104 <a target="_blank" href="http://www.zhangjp.tk//">我的blog</a> <a target="_blank" href="https://0bigbug.github.io">我的网站</a></p>
    </div>
<!-- <div style="display:none"><script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script></div> -->
</body>

</html>